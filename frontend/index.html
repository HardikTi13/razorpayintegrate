<!DOCTYPE html>
<html>
<head>
  <title>Razorpay Payment</title>
</head>
<body>
  <h2>Enter Amount to Pay</h2>
  <form id="paymentForm">
    <input type="number" id="amount" placeholder="Amount in INR" required />
    <button type="submit">Pay</button>
  </form>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
    document.getElementById('paymentForm').addEventListener('submit', async function (e) {
      e.preventDefault();
      const amount = document.getElementById('amount').value;

      const res = await fetch('http://localhost:5000/create-order', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ amount })
      });

      const order = await res.json();

      const options = {
        key: "rzp_test_L1sqG4NKJOJaSb",
        amount: order.amount,
        currency: "INR",
        name: "My Store",
        description: "Test Payment",
        order_id: order.id,
        handler: function (response) {
          alert("Payment successful! Payment ID: " + response.razorpay_payment_id);
        }
      };

      const rzp = new Razorpay(options);
      rzp.open();
    });
  </script>
</body>
</html>
