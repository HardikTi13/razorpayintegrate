<!DOCTYPE html>
<html>
<head>
  <title>Razorpay Payment</title>
</head>
<body>
  <h1>Pay â‚¹500</h1>
  <button id="payBtn">Pay with Razorpay</button>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
    document.getElementById("payBtn").onclick = async function () {
      const res = await fetch("/create-order", { method: "POST" });
      const data = await res.json();

      const options = {
        key: "rzp_test_L1sqG4NKJOJaSb", // Replace with your public key or inject via server
        amount: data.amount,
        currency: data.currency,
        name: "Demo Payment",
        order_id: data.id,
        handler: function (response) {
          alert("Payment Successful! Payment ID: " + response.razorpay_payment_id);
        },
        theme: {
          color: "#3399cc"
        }
      };

      const rzp = new Razorpay(options);
      rzp.open();
    };
  </script>
</body>
</html>
