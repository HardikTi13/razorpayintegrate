<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Razorpay Payment Integration</title>
</head>
<body>
  <h1>Welcome to Razorpay Integration</h1>
  <p>This is a demo site to accept payments using Razorpay.</p>
  <button id="rzp-button">Pay â‚¹1</button>

  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
    document.getElementById('rzp-button').onclick = function () {
      fetch('/order', { method: 'POST' })
        .then(res => res.json())
        .then(order => {
          const options = {
            key: 'rzp_test_L1sqG4NKJOJaSb', // Replace with your Razorpay Key ID
            amount: order.amount,
            currency: order.currency,
            name: "Demo Payment",
            description: "Test Transaction",
            order_id: order.id,
            handler: function (response) {
              alert("Payment Successful!");
              console.log(response);
            },
            prefill: {
              name: "Test User",
              email: "test@example.com",
              contact: "9999999999"
            },
            theme: {
              color: "#3399cc"
            }
          };
          const rzp = new Razorpay(options);
          rzp.open();
        });
    }
  </script>
</body>
</html>
